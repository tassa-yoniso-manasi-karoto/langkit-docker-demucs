services:
  demucs:
    build: .
    image: langkit-demucs:latest
    container_name: langkit-demucs
    volumes:
      - ./input:/data/input
      - ./output:/data/output
      - ./models:/data/models
    restart: unless-stopped
    # GPU support (optional - works without GPU on CPU)
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: all
              capabilities: [gpu]
