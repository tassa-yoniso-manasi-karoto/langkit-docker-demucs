services:
  demucs:
    image: ghcr.io/tassa-yoniso-manasi-karoto/langkit-demucs:latest
    container_name: langkit-demucs-gpu
    volumes:
      - ./input:/data/input
      - ./output:/data/output
      - ./models:/data/models
    restart: unless-stopped
    # GPU support via NVIDIA Container Toolkit
    deploy:
      resources:
        reservations:
          devices:
            - driver: nvidia
              count: all
              capabilities: [gpu]
